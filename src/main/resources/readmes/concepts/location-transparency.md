## Прозрачность местоположения

В предыдущем разделе описывается, как используются пути акторов для включения прозрачности местоположения. Эта 
специальная функция заслуживает некоторого дополнительного объяснения, потому что связанный термин «прозрачный удаленный 
доступ» использовался совершенно иначе в контексте языков, платформ и технологий программирования.

### Распределение по умолчанию
Все в Акке предназначено для работы в распределенной среде: все взаимодействия акторов используют чисто передачу 
сообщений, и все асинхронно. Эти усилия были предприняты для обеспечения одинаковой доступности всех функций при работе в
 одной JVM или на кластере из сотен машин. Ключом для включения этого является переход от удаленного к локальному с 
 помощью оптимизации вместо того, чтобы пытаться перейти от локального к удаленному путем обобщения. 

### Способы нарушения прозрачности
То, что верно в отношении Akka, не обязательно должно быть справедливым для приложения, которое его использует, поскольку 
проектирование для распределенного выполнения создает некоторые ограничения на то, что возможно. Наиболее очевидным является 
то, что все сообщения, отправленные по кабелю, должны быть сериализованы. Хотя это немного менее очевидно, это включает 
замыкания, которые используются в качестве акторских заводов (т.е. внутри реквизита), если актор должен быть создан на 
удаленном узле.

Другим следствием является то, что все должно знать, что все взаимодействия полностью асинхронны, что в компьютерной 
сети может означать, что для достижения сообщения может потребоваться несколько минут (в зависимости от конфигурации). 
Это также означает, что вероятность потери сообщения намного выше, чем в пределах одной JVM, где она близка к нулю.

### Как используется удаленное взаимодействие?
Мы поняли, что прозрачность ограничивается тем, что API для удаляющего слоя Akka практически отсутствует. Он основан 
исключительно на конфигурации. Просто напишите свое приложение в соответствии с принципами, изложенными в предыдущих 
разделах, затем укажите удаленное развертывание подэлементов актора в файле конфигурации. Таким образом, ваше приложение
можно масштабировать без необходимости касаться кода. Единственный фрагмент API, который позволяет программное влияние на
 удаленное развертывание, заключается в том, что в `Props` есть поле, которое может быть установлено на конкретный экземпляр
  `Deploy`; это имеет тот же эффект, что и размещение эквивалентного развертывания в файле конфигурации (если оба даны -
   лучше файл конфигурации).

### Одноранговый или клиентский сервер
**`Akka Remoting`** - это коммуникационный модуль для подключения акторских систем по принципу «равный-равному», и это 
основа для `Akka Clustering`. Конструкция удаленного управления определяется двумя (связанными) проектными решениями:

1. **Связь между задействованными системами симметрична:** если система `A` может подключаться к системе `B`, то система 
`B` должна также иметь возможность самостоятельно подключаться к системе `A`;
2. Роль коммуникационных систем симметрична в отношении шаблонов соединений: нет системы, которая только принимает 
соединения, и нет системы, которая только инициирует соединения.

Следствием этих решений является невозможность безопасного создания чистых клиент-серверных настроек с предопределенными
 ролями (нарушает предположение 2). Для клиент-серверных установок лучше использовать HTTP или Akka I/O.

**Важно**: с помощью настроек, связанных с трансляцией сетевых адресов, балансировщиками нагрузки или контейнерами 
Docker нарушается предположение 1, если в сетевой конфигурации не предпринимаются дополнительные шаги, чтобы обеспечить 
симметричную связь между задействованными системами. В таких ситуациях Akka может быть настроен на привязку к другому 
сетевому адресу, чем тот, который используется для установления соединений между узлами Akka. 

### Точки маркировки для масштабирования с помощью маршрутизаторов
Помимо возможности запуска различных частей системы акторов на разных узлах кластера, также можно масштабировать на 
большее количество ядер путем умножения подэлементов акторов, которые поддерживают распараллеливание (например, поисковая
 система обрабатывает различные запросы в паралли). Затем клоны могут быть направлены в разные ноды. Единственное, 
 что необходимо для достижения этого, - это то, что разработчик должен объявить определенного
  актора `withRouter`, а затем - вместо него будет создан `роутер-актор`, который создаст настраиваемое количество 
  детей желаемого типа и направит на на них, как было сконфигурированы. Как только такой маршрутизатор был объявлен, 
  его конфигурация может быть свободно переопределена из файла конфигурации, включая смешение с удаленным развертыванием
   (некоторых из) дочерних элементов.

[=> далее: Акка и модель памяти Java](https://github.com/steklopod/akka/blob/akka_starter/src/main/resources/readmes/concepts/akka-and-the-java-memory-model.md)

_Если этот проект окажется полезным тебе - нажми на кнопочку **`★`** в правом верхнем углу._

[<= содержание](https://github.com/steklopod/akka/blob/akka_starter/readme.md)