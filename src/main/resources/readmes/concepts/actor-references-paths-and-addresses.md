## Ссылки, пути и адреса акторов
В этой главе описывается, как субъекты идентифицируются и находятся в пределах, возможно, распределенной системы акторов.
 Он связывает центральную идею о том, что `Actor Systems` формируют иерархии внутреннего контроля, а также то, что связь 
 между участниками прозрачна в отношении их размещения на нескольких сетевых узлах.
![alt text](https://github.com/steklopod/akka/blob/akka_starter/src/main/resources/images/ActorPath.png "ActorPath")

На приведенном выше рисунке показана взаимосвязь между наиболее важными объектами в системе акторов, пожалуйста, 
прочитайте подробнее.

### Что такое ссылка на актора?
Ссылка на актор является подтипом `ActorRef`, главной задачей которого является поддержка отправки сообщений актору, 
который он представляет. **Каждый актор имеет доступ к своей канонической (локальной) ссылке через `self` поле**; эта ссылка 
также включена в качестве ссылки отправителя по умолчанию для всех сообщений, отправленных другим участникам. И наоборот,
 во время обработки сообщения **актор имеет доступ к ссылке, представляющей отправителя текущего сообщения через метод `sender()`**.

Существует несколько различных типов ссылок на акторы, которые поддерживаются в зависимости от конфигурации системы акторов:

* Чисто локальные ссылки для акторов используются акторскими системами, которые не настроены на поддержку сетевых функций. 
Эти ссылки акторов не будут работать, если они отправляются через сетевое соединение с удаленной JVM;
* Ссылки локального актора при включении удаленного использования используются системами акторов, которые поддерживают 
сетевые функции для тех ссылок, которые представляют участников в пределах одной JVM. Для того, чтобы быть доступным 
при отправке на другие сетевые узлы, эти ссылки включают информацию о протоколе и удаленной адресации;
* Существует подтип ссылок локального актора, который используется для маршрутизаторов (т.е. акторов, подмешивающих в 
типаж `Router`). Его логическая структура такая же, как и для вышеупомянутых локальных ссылок, но отправка 
сообщения им отправляет их одному из своих детей непосредственно;
* Удаленные ссылки на акторы представляют собой акторов, которые достижимы с помощью удаленной связи, то есть отправка
 сообщений им будет прозрачно транслировать сообщения и отправлять их на удаленный JVM;
* Существует несколько специальных типов акторских ссылок, которые ведут себя как локальные ссылки акторов для всех 
практических целей:
   * `PromiseActorRef` - это особый вид `Promise` с целью завершения ответа от актора `akka.pattern.ask` 
   создает эту ссылку для актора;
   * `DeadLetterActorRef` - это стандартная реализация службы мертвых писем, к которой Akka маршрутизирует все сообщения,
    адресатов которых закрыты или отсутствуют;
   * `EmptyLocalActorRef` - это то, что Akka возвращает при поиске несуществующего пути локального актора: он 
   эквивалентен `DeadLetterActorRef`, но он сохраняет свой путь, чтобы Akka мог отправлять его по сети и сравнивать 
   его с другими существующими ссылками для этого пути, некоторые которые могли быть получены до смерти актора;
* Есть еще некоторые внутренние реализации, которые вы никогда не должны видеть:
   * Существует ссылка на актора, которая не является актором, но действует только как псевдо-супервизор для корневого 
   хранителя, мы называем это «тем, кто ходит по пузырям пространства-времени»;
   * Первая служба регистрации началась до фактического запуска объектов создания акторов - это поддельная акторская 
   ссылка, которая принимает события журнала и печатает их непосредственно на стандартный вывод; это `Logging.StandardOutLogger`.
 
### Что такое акторский путь?
Поскольку акторы создаются строго иерархически, существует уникальная последовательность имен акторов, определяемая 
рекурсивно после связей надзора между дочерним и родительским до корня системы акторов. Эта последовательность может 
рассматриваться как папки в файловой системе, поэтому мы использовали имя «путь», чтобы ссылаться на нее, 
хотя иерархия акторов имеет фундаментальное отличие от иерархии файловой системы.

Путь актора состоит из якоря, который идентифицирует систему акторов, за которой следует конкатенация элементов пути от 
корневого опекуна к назначенному игроку; элементы пути - это имена перемещаемых участников и разделены косой чертой.

#### В чем разница между ссылкой актора и путём?
Ссылка на актора обозначает одного актора, а жизненный цикл ссылки соответствует жизненному циклу актора; путь актора 
представляет собой имя, которое может или не может быть заселено актором, и сам путь не имеет жизненного цикла, он никогда 
не становится недействительным. Вы можете создать путь к актору без создания актора, но вы не можете создать ссылку на 
актора без создания соответствующего актора.

Вы можете создать актора, закончить его, а затем создать нового актора с одним и тем же путем. Недавно созданный актор - 
новое воплощение актора. Это не тот же самый актор. Ссылка актора на старое воплощение недействительна для нового воплощения.
 Сообщения, отправленные на ссылку старого актора, не будут доставлены в новое воплощение, даже если они имеют один и тот же путь.

#### Анкор для акторов
 Каждый путь актора имеет адресную составляющую, описывающую протокол и местоположение, с помощью которого соответствующий
  субъект доступен, а затем имена участников в иерархии от корня вверх. Пример:
  
```scala
    "akka://my-sys/user/service-a/worker1"                   // purely local
    "akka.tcp://my-sys@host.example.com:5678/user/service-b" // remote
```

Здесь `akka.tcp` является удаленным транспортом по умолчанию для выпуска 2.4; другие транспорты могут быть подключены. 
Интерпретация части хоста и порта (то есть `host.example.com:5678` в примере) зависит от используемого механизма 
транспорта, но она должна соблюдать структурные правила URI.

#### Логические пути актора
Уникальный путь, полученный путем слежения за родительским контролем над корневым опекуном, называется логическим путем. 
Этот путь точно соответствует рождению рождения актора, поэтому он полностью детерминирован, как только настроена удаленная 
конфигурация системы актора (а вместе с ней и адресная составляющая пути).

#### Физические пути актора
В то время как путь логического актора описывает функциональное местоположение в пределах одной действующей системы, 
дистанционное развертывание на основе конфигурации означает, что актор может быть создан на другом сетевом узле, чем его 
родительский элемент, то есть в другой системе акторов. В этом случае, следуя пути актора от корневого опекуна, влечет 
за собой пересечение сети, что является дорогостоящей операцией. Поэтому каждый актор также имеет физический путь, 
начиная с корневого хранителя акторской системы, где находится фактический объект актора. Использование этого пути в 
качестве ссылки отправителя при запросе других участников позволит им напрямую ответить на этот актор, минимизируя 
задержки, вызванные маршрутизацией.

Важным аспектом является то, что путь физического актора никогда не охватывает несколько акторских систем или JVM. 
Это означает, что логический путь (иерархия наблюдения) и физический путь (акторское развертывание) актора могут 
расходиться, если один из его предков удаленно контролируется.

#### Идентификатор пути актора или символическая ссылка?
Как и в некоторых реальных файловых системах, вы можете подумать о «псевдониме пути» или «символической ссылке» для 
актора, то есть один актор может быть доступен с использованием нескольких путей. Однако следует отметить, что иерархия 
акторов отличается от иерархии файловой системы. Вы не можете свободно создавать акторские пути, такие как символические 
ссылки, для обозначения произвольных участников. Как описано в приведенных выше разделах логического и физического 
акторского пути, путь актора должен быть либо логическим путем, который представляет собой иерархию наблюдения, либо 
физический путь, который представляет развертывание актора.


_Если этот проект окажется полезным тебе - нажми на кнопочку **`★`** в правом верхнем углу._

[<= содержание](https://github.com/steklopod/akka/blob/akka_starter/readme.md)